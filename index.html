<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digitaler Kompetenzpass</title>
    <link rel="stylesheet" href="style.css">
    <!-- jsPDF Bibliothek fÃ¼r PDF-Export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <div id="app">
        <!-- Login-Bereich -->
        <div id="loginArea" class="container">
            <h1>ğŸ“ Digitaler Kompetenzpass</h1>
            <div class="login-box">
                <h2>Willkommen!</h2>
                <input type="text" id="username" placeholder="Dein Name">
                <button onclick="login()">Einloggen</button>
                <div class="teacher-login-link">
                    <a href="#" onclick="showTeacherLogin(); return false;">ğŸ” Lehrer-Login</a>
                </div>
            </div>
            
            <!-- Lehrer-Login (zunÃ¤chst versteckt) -->
            <div id="teacherLoginBox" class="login-box hidden">
                <h2>Lehrer-Login</h2>
                <input type="password" id="teacherPassword" placeholder="Passwort">
                <button onclick="loginTeacher()">Als Lehrer einloggen</button>
                <div class="teacher-login-link">
                    <a href="#" onclick="showStudentLogin(); return false;">â† ZurÃ¼ck zum SchÃ¼ler-Login</a>
                </div>
                <p class="hint">Standard-Passwort: admin123</p>
            </div>
        </div>

        <!-- Kompetenz-Bereich (zunÃ¤chst versteckt) -->
        <div id="mainArea" class="container hidden">
            <header>
                <h1>Mein Kompetenzpass</h1>
                <p id="welcomeMessage"></p>
            </header>
            
            <div id="competencies">
                <!-- Hier werden die Kompetenzen eingefÃ¼gt -->
            </div>
            
            <div class="button-group">
                <button onclick="saveProgress()">ğŸ’¾ Fortschritt speichern</button>
                <button onclick="exportProgress()" class="primary">ğŸ“„ Als PDF exportieren</button>
                <button onclick="logout()" class="secondary">Ausloggen</button>
            </div>
        </div>

        <!-- Lehrer-Dashboard (zunÃ¤chst versteckt) -->
        <div id="teacherArea" class="container hidden">
            <header>
                <h1>ğŸ“ Lehrer-Dashboard</h1>
                <p class="subtitle">Kompetenzen verwalten und SchÃ¼lerfortschritte einsehen</p>
            </header>

            <!-- Tab Navigation -->
            <div class="tab-navigation">
                <button class="tab-button active" onclick="switchTab('competencies-tab')">
                    ğŸ“š Kompetenzen verwalten
                </button>
                <button class="tab-button" onclick="switchTab('students-tab')">
                    ğŸ‘¥ SchÃ¼lerÃ¼bersicht
                </button>
                <button class="tab-button" onclick="switchTab('settings-tab')">
                    âš™ï¸ Einstellungen
                </button>
            </div>

            <!-- Tab 1: Kompetenzen verwalten -->
            <div id="competencies-tab" class="tab-content">
                <div class="action-bar">
                    <button onclick="addNewCompetency()" class="btn-add">
                        â• Neue Kompetenz hinzufÃ¼gen
                    </button>
                    <button onclick="resetToDefaults()" class="btn-reset">
                        ğŸ”„ Auf Standard zurÃ¼cksetzen
                    </button>
                </div>

                <div id="competencyList" class="competency-manager">
                    <!-- Kompetenzen werden hier eingefÃ¼gt -->
                </div>

                <div class="info-box">
                    <p>ğŸ’¡ <strong>Tipp:</strong> Ã„nderungen werden automatisch gespeichert und sind sofort fÃ¼r alle SchÃ¼ler sichtbar.</p>
                </div>
            </div>

            <!-- Tab 2: SchÃ¼lerÃ¼bersicht -->
            <div id="students-tab" class="tab-content hidden">
                <div class="filter-bar">
                    <input type="text" id="studentSearch" placeholder="ğŸ” SchÃ¼ler suchen..." onkeyup="filterStudents()">
                    <select id="classFilter" onchange="filterStudents()">
                        <option value="">Alle Klassen</option>
                    </select>
                </div>

                <div id="studentsList" class="students-grid">
                    <!-- SchÃ¼lerkarten werden hier eingefÃ¼gt -->
                </div>

                <div class="stats-box">
                    <div class="stat">
                        <span class="stat-label">Anzahl SchÃ¼ler:</span>
                        <span id="totalStudents" class="stat-value">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Durchschnittlicher Fortschritt:</span>
                        <span id="avgProgress" class="stat-value">0%</span>
                    </div>
                </div>
            </div>

            <!-- Tab 3: Einstellungen -->
            <div id="settings-tab" class="tab-content hidden">
                <div class="settings-section">
                    <h3>ğŸ” Passwort Ã¤ndern</h3>
                    <input type="password" id="newPassword" placeholder="Neues Passwort">
                    <input type="password" id="confirmPassword" placeholder="Passwort bestÃ¤tigen">
                    <button onclick="changePassword()">Passwort Ã¤ndern</button>
                </div>

                <div class="settings-section">
                    <h3>ğŸ“Š Daten exportieren</h3>
                    <button onclick="exportAllData()">ğŸ“¥ Alle SchÃ¼lerdaten als CSV exportieren</button>
                    <button onclick="exportClassReport()">ğŸ“ˆ Klassenbericht als PDF</button>
                </div>

                <div class="settings-section">
                    <h3>ğŸ—‘ï¸ Daten verwalten</h3>
                    <button onclick="clearStudentData()" class="btn-danger">Alle SchÃ¼lerdaten lÃ¶schen</button>
                </div>
            </div>

            <div class="button-group">
                <button onclick="logoutTeacher()" class="secondary">Abmelden</button>
            </div>
        </div>
    </div>
    
    <script src="app.js"></script>
</body>
</html>